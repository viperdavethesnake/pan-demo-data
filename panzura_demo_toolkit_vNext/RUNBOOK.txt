# Runbook (copy/paste) - Production Ready v1.1.0

# Standard deployment (validated with 15,303+ files with proper ownership)
.\pre_flight.ps1
.\ad_populator.ps1 -BaseOUName DemoCorp -UsersPerDeptMin 8 -UsersPerDeptMax 75 -CreateAccessTiers -CreateAGDLP -ProjectsPerDeptMin 1 -ProjectsPerDeptMax 4 -VerboseSummary
.\create_folders.ps1 -UseDomainLocal
.\set_share_acls.ps1
.\create_files.ps1 -MaxFiles 10000 -DatePreset RecentSkew
.\demo_report.ps1 -ShowSamples -SampleUsers 5

# Large-scale deployment (5,000+ files)
.\create_files.ps1 -MaxFiles 5000 -DatePreset LegacyMess
.\create_files.ps1 -MaxFiles 5000 -DatePreset YearSpread
.\create_files.ps1 -MaxFiles 5000 -DatePreset Uniform -MinDate (Get-Date).AddYears(-10) -MaxDate (Get-Date)

# Reset and redo (complete cleanup)
.\ad_reset.ps1 -BaseOUName DemoCorp -DoUsers -DoGroups -DoOUs -PurgeBySamPrefixes -Confirm:$false -VerboseSummary
.\clean_shared.ps1 -SkipConfirmation
.\ad_populator.ps1 -BaseOUName DemoCorp -UsersPerDeptMin 8 -UsersPerDeptMax 75 -CreateAccessTiers -CreateAGDLP -ProjectsPerDeptMin 1 -ProjectsPerDeptMax 4 -VerboseSummary
.\create_folders.ps1 -UseDomainLocal
.\set_share_acls.ps1
.\create_files.ps1 -MaxFiles 10000 -DatePreset RecentSkew
.\demo_report.ps1 -ShowSamples -SampleUsers 5

# Verify sparse files (sample 50 files)
Get-ChildItem -Path "S:\Shared" -Recurse -File | Get-Random -Count 50 | ForEach-Object { $sparse = (fsutil sparse queryflag $_.FullName 2>$null) -match "SPARSE"; [PSCustomObject]@{ File = $_.Name; Sparse = if($sparse) { "YES" } else { "NO" } } } | Format-Table -AutoSize

# Verify ownership distribution (sample 100 files)
Get-ChildItem -Path "S:\Shared" -Recurse -File | Get-Random -Count 100 | ForEach-Object { $acl = Get-Acl $_.FullName; [PSCustomObject]@{ File = $_.Name; Owner = $acl.Owner; Group = $acl.Group } } | Format-Table -AutoSize

